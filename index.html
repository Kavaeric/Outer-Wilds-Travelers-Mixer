<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=600, initial-scale=1.0">
    <title>Travelers</title>

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="AudioContainer">
        <h1>Travelers Audio Mixer</h1>
        <p>Audio mixer for The Outer Wilds' "Travelers" theme.</p>
        <ul>
            <li>Press the play button to begin play.</li>
            <li>Raise the volume sliders of each of the parts to your taste.</li>
            <li>Use the volume sliders turn off unwanted parts; do not use the play/pause buttons on each player.</li>
            <li>Does not appear to work on mobile yet.</li>
        </ul>

        <button id="btn_play" type="button" autofocus disabled onclick="playAudio()">Play</button>

        <h2>Banjo</h2>
        <audio class="audioplayer" id="loop0" controls loop preload="auto">
            <source src="audio/loop_banjo.ogg" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>

        <h2>Drums</h2>
        <audio class="audioplayer" id="loop1" controls loop preload="auto">
            <source src="audio/loop_drum.ogg" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>

        <h2>Flute</h2>
        <audio class="audioplayer" id="loop2" controls loop preload="auto">
            <source src="audio/loop_flute.ogg" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>

        <h2>Harmonica</h2>
        <audio class="audioplayer" id="loop3" controls loop preload="auto">
            <source src="audio/loop_harmonica.ogg" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>

        <h2>Piano</h2>
        <audio class="audioplayer" id="loop4" controls loop preload="auto">
            <source src="audio/loop_piano.ogg" type="audio/ogg">
            Your browser does not support the audio element.

        </audio>

        <h2>Whistle</h2>
        <audio class="audioplayer" id="loop5" controls loop preload="auto">
            <source src="audio/loop_whistling.ogg" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <script>
        window.onload = setTimeout( startup(), 0);;

        function startup() {
            console.log("Page loaded")
            document.getElementById("btn_play").disabled = false;
        }

        function playAudio() { 
            for (let i = 0; i < 6; i++) { 
                document.getElementById("loop" + i).play(); 
                document.getElementById("loop" + i).volume = .2;
                console.log("Starting loop #" + i + "...")
            }
        } 
    </script>

</body>
</html>